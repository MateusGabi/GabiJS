{"version":3,"sources":["../node_modules/string-template/index.js","../dist/component.js","../index.js","app.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_stringTemplate","require","_stringTemplate2","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","TypeError","fooTemplate","Component","options","el","nativeElement","document","querySelector","debug","state","template","onCreate","fooLifecicleMethod","onRender","onDestroy","onError","onChangeState","renderComponent","onClick","callback","element","addEventListener","event","setState","newState","cicle","_this","console","log","innerHTML","MAX","format","MAX_SECONDS","diff","seconds","m","Math","floor","s","getElementById","counter","setInterval"],"mappings":"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","file":"app.6a583037.map","sourceRoot":"..","sourcesContent":["var nargs = /\\{([0-9a-zA-Z_]+)\\}/g\n\nmodule.exports = template\n\nfunction template(string) {\n    var args\n\n    if (arguments.length === 2 && typeof arguments[1] === \"object\") {\n        args = arguments[1]\n    } else {\n        args = new Array(arguments.length - 1)\n        for (var i = 1; i < arguments.length; ++i) {\n            args[i - 1] = arguments[i]\n        }\n    }\n\n    if (!args || !args.hasOwnProperty) {\n        args = {}\n    }\n\n    return string.replace(nargs, function replaceArg(match, i, index) {\n        var result\n\n        if (string[index - 1] === \"{\" &&\n            string[index + match.length] === \"}\") {\n            return i\n        } else {\n            result = args.hasOwnProperty(i) ? args[i] : null\n            if (result === null || result === undefined) {\n                return \"\"\n            }\n\n            return result\n        }\n    })\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _stringTemplate = require(\"string-template\");\n\nvar _stringTemplate2 = _interopRequireDefault(_stringTemplate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// funções do ciclo de vida:\n// - onCreate\n// - onRender\n// - onDestroy\n// - onError\n// - onChangeState(oldState, newState)\n\nvar fooTemplate = function fooTemplate() {\n  return \"<p>foo</p>\";\n};\n\nvar Component = function () {\n  function Component(options) {\n    _classCallCheck(this, Component);\n\n    this.el = options.el;\n    this.nativeElement = options.nativeElement || document.querySelector(options.el);\n    this.debug = options.debug || false;\n    this.state = options.state || {};\n    this.template = options.template || fooTemplate;\n    this.onCreate = options.onCreate || this.fooLifecicleMethod(\"onCreate\");\n    this.onRender = options.onRender || this.fooLifecicleMethod(\"onRender\");\n    this.onDestroy = options.onDestroy || this.fooLifecicleMethod(\"onDestroy\");\n    this.onError = options.onError || this.fooLifecicleMethod(\"onError\");\n    this.onChangeState = options.onChangeState || this.fooLifecicleMethod(\"onChangeState\");\n\n    this.onCreate();\n    this.renderComponent();\n  }\n\n  // ACTIONS\n\n\n  _createClass(Component, [{\n    key: \"onClick\",\n    value: function onClick(callback) {\n      this.element.addEventListener(\"click\", function (event) {\n        callback(event);\n      });\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      this.onChangeState(this.state, newState);\n\n      this.state = _extends({}, this.state, newState);\n      this.renderComponent();\n    }\n  }, {\n    key: \"fooLifecicleMethod\",\n    value: function fooLifecicleMethod(cicle) {\n      var _this = this;\n\n      return function () {\n        if (_this.debug) {\n          console.log(\"hey, I'm a lifecicle method: \" + cicle + \"!\");\n        }\n      };\n    }\n  }, {\n    key: \"renderComponent\",\n    value: function renderComponent() {\n      if (this.nativeElement) {\n        this.nativeElement.innerHTML = (0, _stringTemplate2.default)(this.template(), this.state);\n      }\n\n      this.onRender();\n    }\n  }]);\n\n  return Component;\n}();\n\nexports.default = Component;","export const Component = require('./dist/component').default;\n","const {Component} = require('./../index')\n\nconst MAX = 45\n\nconst format = seconds => {\n\n    const MAX_SECONDS = MAX*60\n    const diff = MAX_SECONDS - seconds \n\n    const m = Math.floor(diff / 60)\n    const s = diff % 60\n\n    return `${m}:${s}`\n}\n\nnew Component({\n    nativeElement: document.getElementById('timer'),\n    debug: false,\n    state: {\n        counter: 0\n    },\n    onCreate: function () {\n        setInterval(() => {\n            let {counter} = this.state;\n            counter++\n            this.setState({ counter })\n        }, 1000)\n    },\n    template: function () {\n        return `<h1>${format(this.state.counter)}</h1>`\n    }\n})\n\n// console.log(app);\n"]}